---
description: å®‰å…¨æ€§ã€éƒ¨ç½²å’Œæ¸¬è©¦è¦ç¯„ï¼Œé©ç”¨æ–¼æ•´å€‹å°ˆæ¡ˆ
alwaysApply: true
---

# å®‰å…¨æ€§èˆ‡éƒ¨ç½²è¦ç¯„

## ğŸ” å®‰å…¨æ³¨æ„äº‹é …

### ç’°å¢ƒè®Šæ•¸å¿…é ˆä½¿ç”¨

```javascript
// âŒ BAD - ç¡¬ç·¨ç¢¼æ•æ„Ÿè³‡è¨Š
const API_KEY = '179dcdb74c6a4f1540303be93f5d259c';

// âœ… GOOD - ä½¿ç”¨ç’°å¢ƒè®Šæ•¸
const API_KEY = process.env.IMGBB_API_KEY;
```

### .env æ–‡ä»¶ç®¡ç†

```bash
# âœ… GOOD - .env.example æä¾›ç¯„æœ¬
LINE_CHANNEL_ACCESS_TOKEN=your_token_here
IMGBB_API_KEY=your_api_key_here

# âœ… GOOD - .gitignore æ’é™¤å¯¦éš›ç’°å¢ƒè®Šæ•¸
.env
.env.local
*.env
```

## ğŸš€ Zeabur éƒ¨ç½²è¦å‰‡

### Root Directory è¨­å®šï¼ˆé—œéµï¼‰

```yaml
# âœ… GOOD - å‰ç«¯æœå‹™
Service Name: frontend
Root Directory: /frontend
Framework: Static Site

# âœ… GOOD - å¾Œç«¯æœå‹™
Service Name: backend
Root Directory: /backend
Framework: Node.js

# âŒ BAD - æ²’æœ‰è¨­å®š Root Directory
# æœƒå°è‡´ Zeabur æ‰¾ä¸åˆ°æ–‡ä»¶
```

### éƒ¨ç½²å‰æª¢æŸ¥æ¸…å–®

- [ ] å‰ç«¯ Root Directory = `/frontend`
- [ ] å¾Œç«¯ Root Directory = `/backend`
- [ ] æ‰€æœ‰ç’°å¢ƒè®Šæ•¸å·²è¨­å®š
- [ ] `NODE_ENV=production`
- [ ] `.env` å·²åŠ å…¥ `.gitignore`
- [ ] å‰ç«¯ config.js å·²æ›´æ–° API_BASE_URL

### éƒ¨ç½²å¾Œç«‹å³æ›´æ–°

```javascript
// âœ… GOOD - éƒ¨ç½²å¾Œæ›´æ–°æµç¨‹
// 1. éƒ¨ç½²å¾Œç«¯ï¼Œè¨˜éŒ„ URL
const BACKEND_URL = 'https://backend-abc.zeabur.app';

// 2. æ›´æ–°å‰ç«¯é…ç½®
// frontend/js/config.js
API_BASE_URL: 'https://backend-abc.zeabur.app'

// 3. æäº¤ä¸¦æ¨é€
git add frontend/js/config.js
git commit -m "[ä¿®æ”¹] æ›´æ–°å¾Œç«¯ API URL"
git push

// 4. éƒ¨ç½²å‰ç«¯ï¼Œè¨˜éŒ„ URL
const FRONTEND_URL = 'https://frontend-xyz.zeabur.app';

// 5. æ›´æ–°å¾Œç«¯ç’°å¢ƒè®Šæ•¸
FRONTEND_URL=https://frontend-xyz.zeabur.app

// 6. æ›´æ–° LINE LIFF Endpoint
// LINE Developers Console â†’ LIFF â†’ Edit
Endpoint URL: https://frontend-xyz.zeabur.app
```

## ğŸ§ª æ¸¬è©¦è¦ç¯„

### æ¸¬è©¦è³‡æ–™æ¨™è­˜

```javascript
// âœ… GOOD - ä½¿ç”¨ TEST_ å‰ç¶´
const testTaskId = 'TEST_1234567890123';
const testUserId = 'Utest123456789abcdef';

// æ¸¬è©¦å®Œæˆå¾Œæ¸…ç†
// åœ¨ Google Sheets ä¸­åˆªé™¤æ‰€æœ‰ TEST_ é–‹é ­çš„è³‡æ–™
```

### æ¸¬è©¦ç’°å¢ƒä½¿ç”¨

```javascript
// âœ… GOOD - å€åˆ†æ¸¬è©¦å’Œæ­£å¼ç’°å¢ƒ
if (taskId.startsWith('TEST_')) {
  logger.info('æ¸¬è©¦æ¨¡å¼ï¼šè·³éå¯¦éš› LINE æ¨é€');
  return { success: true, test: true };
}
```

## ğŸ“¦ ä¾è³´ç®¡ç†

### å¾Œç«¯ä¾è³´

```bash
# âœ… GOOD - ä½¿ç”¨æœ€æ–°ç©©å®šç‰ˆæœ¬
npm install express@latest
npm install canvas@latest

# æ›´æ–°å¾Œè¨˜éŒ„åœ¨ WORKLOG
# docs/WORKLOG.md:
# - æ–°å¢ express-rate-limit ^7.4.2 (Rate limiting)
```

### å‰ç«¯ä¾è³´

```html
<!-- âœ… GOOD - ä½¿ç”¨ CDN -->
<script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>

<!-- âŒ BAD - å¼•å…¥å¤§å‹æ¡†æ¶ -->
<script src="react.js"></script>
```
